<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta http-equiv="Cache-Control" content="no-siteapp">
<meta http-equiv="expires" content="0">
<meta http-equiv="pragma" content="no-cache">
<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no">
<meta name="format-detection" content="telephone=no,email=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-touch-fullscreen" content="yes">
<meta name="full-screen" content="yes">
<meta name="x5-fullscreen" content="true">
<meta name="description" content="">
<link href="" rel="stylesheet">
<title>Examples</title>
<meta name="description" content="">
<meta name="keywords" content="">
<link href="" rel="stylesheet">
<style type="text/css">
	*{
		padding: 0;
		border: 0;
		margin: 0;
	}
</style>
</head>
<body>
    <canvas id="c" width="500" height="500"></canvas>
    <script type="text/javascript">
    	var canvas = document.getElementById('c');
    	var ctx = canvas.getContext('2d');
    	var img = new Image();
    	img.src = 'imgs/timg.jpg';
    	img.onload = function(){
    		ctx.drawImage(img, 0, 0);
    		var imgData = ctx.getImageData(0,0,500,500);
    		console.log(imgData.data[0]);
    		console.log(imgData.data[1]);
    		console.log(imgData.data[2]);
    		for (var i = 0; i < imgData.data.length; i++) {
    			// if (i%10 === 0) {
    				var average=(imgData.data[i*4]+imgData.data[i*4+1]+imgData.data[i*4+2])/3;
    				// imgData.data[i] = 255 - imgData.data[i];
    				// imgData.data[i+1] = 255 - imgData.data[i+1];
    				// imgData.data[i+2] = 255 - imgData.data[i+2];
    				// imgData.data[i*4+1] = 255;
    				// imgData.data[i*4+3] = 255;
    				// imgData.data[i+3] = 200;
    				imgData.data[i*4] = average;
    				imgData.data[i*4+1] = average;
    				imgData.data[i*4+2] = average;
    			// }
    			// imgData.data[i] = 255 - imgData.data[i];
    			// imgData.data[i+1] = 255 - imgData.data[i+1];
    			// imgData.data[i+2] = 255 - imgData.data[i+2];
    			// imgData.data[i+3] = 255;
    		}
    		ctx.putImageData(imgData,0,0);
    	}
    	console.log(canvas);
    </script>
</body>
</html>